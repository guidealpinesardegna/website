---
const {
  src,
  sizes,
  alt,
  width,
  height,
  loading,
  fetchpriority,
  decoding,
  class: className = "",
  ...props
} = Astro.props;
---

<picture>
  {
    Object.entries(sizes).map(([media, url]) => {
      /** @ts-ignore */
      return <source srcset={url} media={`(max-width: ${media}px)`} />;
    })
  }

  <img
    src={src}
    alt={alt}
    width={width}
    height={height}
    loading={loading}
    fetchpriority={fetchpriority}
    decoding={decoding}
    class={className}
    {...props}
  />
</picture>
