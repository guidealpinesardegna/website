---
import fs from "fs-extra";
import { activitiesTypesStaticPaths } from "../../lib/staticPaths";
import ActivitiesPage from "../../features/activity/ActivitiesPage.astro";

const { type } = Astro.params;

export function getStaticPaths() {
  return activitiesTypesStaticPaths("it");
}

const activities = fs.readJsonSync("_cache/activities.json");
const filtered = activities.filter((a) => a.type.id === type);
---

<ActivitiesPage lang="it" activities={filtered} type="type" />
